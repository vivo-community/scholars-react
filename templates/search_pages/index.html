<vivo-search-navigation></vivo-search-navigation>

<div class="container">
  <!-- NOTE: facets and search are in separate sections
    the vivo-search-navigation elements uses the "search" attribute
    to figure out which search to attach to (by corresponding id)
  -->
  <aside>
     <vivo-sidebar>

       <vivo-sidebar-item>
          <vivo-search-person-facets slot="content" search="person-search">
            
            <vivo-search-facets key="people" field="type">
              <h4>Type</h4>
            </vivo-search-facets>

            <vivo-search-facets key="people" field="researchAreas">
              <h4>Research Areas</h4>
            </vivo-search-facets>

            <vivo-search-facets key="people" field="positions">
              <h4>Position</h4>
            </vivo-search-facets>

          </vivo-search-person-facets>
      
        </vivo-sidebar-item>

        
        <vivo-sidebar-item>
          <vivo-facet-group slot="content" key="documents" search="publication-search">

            <vivo-search-facets key="documents" field="type">
              <h4>Type</h4>
            </vivo-search-facets>

            <vivo-search-facets key="documents" field="publicationDate">
              <h4>Date</h4>
            </vivo-search-facets>

            <vivo-search-facets key="documents" field="authors">
              <h4>Author</h4>
            </vivo-search-facets>

            <vivo-search-facets key="documents" field="publisher">
              <h4>Publisher</h4>
            </vivo-search-facets>

          </vivo-facet-group>
        </vivo-sidebar-item>
        
    </vivo-sidebar>
  </aside>

  <main>

    <vivo-tabs id="secondary-example" vivo-tab-style="secondary">
      <vivo-tab id="person-search-tab" selected>
        People (<span id="person-search-count">0</span>)
      </vivo-tab>
  
      <vivo-tab-panel selected>  
        <!-- NOTE: the vivo-search-navigation element uses the id of the 
          tab ("person-search-tab") and lops off the "-tab" to figure
          out the active search id - if it could detect a <vivo-search>
          child element interface that might be better
        -->
        <vivo-person-search id="person-search" implements="vivo-search"/>
      </vivo-tab-panel>
    
      <vivo-tab id="publication-search-tab">
        Publications (<span id="publication-search-count">0</span>)
      </vivo-tab>
  
      <vivo-tab-panel>
          <vivo-publication-search id="publication-search" implements="vivo-search"/>
      </vivo-tab-panel>
    
    </vivo-tabs>

  </main>
</div>

<%= javascriptTag("search.js") %>